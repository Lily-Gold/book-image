<div class="flex justify-center">
  <div class="w-full max-w-3xl my-[1.5rem] pb-[1.5rem]">

    <!-- タイトル行 -->
    <div class="grid grid-cols-3 items-center mb-6">

      <!-- 左：空 -->
      <div></div>

      <!-- 中央：タイトル -->
      <h2 class="text-3xl font-bold text-[#004865] text-center">
        通知
      </h2>

      <!-- 右：ボタン -->
      <div class="text-right">
        <% if @notifications.any? %>
          <%= button_to "すべて既読にする",
                mark_all_as_read_notifications_path,
                method: :patch,
                class: "bg-[#986321] text-white text-sm
                        px-4 py-2 rounded-lg
                        hover:opacity-90 transition
                        cursor-pointer" %>
        <% end %>
      </div>

    </div>

    <!-- 白カード -->
    <div class="bg-white pt-6 px-10 rounded-xl shadow-lg pb-6">
      <% if @notifications.any? %>
        <% @notifications.each do |notification| %>
          <%= link_to notification_path(notification),
                class: "block py-4 border-b border-gray-200 hover:bg-gray-50 transition" do %>

            <div class="flex items-start justify-between gap-4">
              <div class="flex items-start gap-3">
                <span class="mt-1 w-2 h-2 rounded-full flex-shrink-0
                             <%= notification.read ? 'bg-transparent' : 'bg-red-500' %>">
                </span>

                <p class="text-gray-800">
                  <%= notification.actor.name %>さんが
                  「<%= notification.review.book.title %>」のレビューに
                  <%= notification.action_type == "like" ? "いいねしました" : "コメントしました" %>
                </p>
              </div>

              <p class="text-sm text-gray-400 whitespace-nowrap">
                <%= notification.created_at.strftime("%Y/%m/%d") %>
              </p>
            </div>

          <% end %>
        <% end %>
      <% else %>
        <p class="text-gray-500 text-center py-12">
          通知はありません
        </p>
      <% end %>
    </div>

  </div>
</div>

<div class="flex justify-center -mt-9 mb-8">
  <%= paginate @notifications %>
</div>
